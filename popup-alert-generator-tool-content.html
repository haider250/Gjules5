<!--
  Tool: Popup Alert Script Generator
  To use this, create a new "Tool" in the WordPress admin,
  give it the title "Popup Alert Script Generator", and paste this entire
  HTML content into the "Code" editor (not the Visual editor).
-->

<div class="tool-container">
    <h3>Customize Your Popup</h3>
    <div class="controls-panel">
        <div class="control">
            <label for="popup-title">Popup Title:</label>
            <input type="text" id="popup-title" value="Welcome!">
        </div>
        <div class="control">
            <label for="popup-message">Popup Message:</label>
            <textarea id="popup-message" rows="4">This is a sample alert message for your website.</textarea>
        </div>
        <div class="control">
            <label for="button-text">Button Text:</label>
            <input type="text" id="button-text" value="Got it!">
        </div>
    </div>

    <div class="output-panel" style="margin-top: 20px;">
        <h3>Generated Code</h3>
        <p>Copy and paste this code just before the closing <code>&lt;/body&gt;</code> tag of your website.</p>
        <textarea id="code-output" rows="20" readonly></textarea>
        <button id="copy-code">Copy Code</button>
    </div>
</div>

<style>
    .controls-panel .control { margin-bottom: 15px; }
    .controls-panel label { display: block; margin-bottom: 5px; }
    .controls-panel input, .controls-panel textarea { width: 100%; padding: 8px; box-sizing: border-box; }
    #code-output { width: 100%; white-space: pre; }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const titleInput = document.getElementById('popup-title');
    const messageInput = document.getElementById('popup-message');
    const buttonTextInput = document.getElementById('button-text');
    const codeOutput = document.getElementById('code-output');
    const copyBtn = document.getElementById('copy-code');

    function generateCode() {
        const title = titleInput.value;
        const message = messageInput.value;
        const buttonText = buttonTextInput.value;

        const generatedHTML = `
<!-- Start Popup Code -->
<style>
    .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    .popup-content {
        background: #fff;
        padding: 20px;
        border-radius: 5px;
        max-width: 500px;
        text-align: center;
    }
    .popup-close-btn {
        padding: 10px 20px;
        cursor: pointer;
        border: none;
        background-color: #007BFF;
        color: white;
        border-radius: 3px;
    }
</style>
<div class="popup-overlay" id="myPopup">
    <div class="popup-content">
        <h2>${title}</h2>
        <p>${message}</p>
        <button class="popup-close-btn" id="closePopupBtn">${buttonText}</button>
    </div>
</div>
<script>
    document.getElementById('closePopupBtn').addEventListener('click', function() {
        document.getElementById('myPopup').style.display = 'none';
    });
    // Optional: close when clicking overlay
    document.getElementById('myPopup').addEventListener('click', function(event) {
        if (event.target === this) {
            this.style.display = 'none';
        }
    });
<\/script>
<!-- End Popup Code -->`;

        codeOutput.value = generatedHTML.trim();
    }

    titleInput.addEventListener('input', generateCode);
    messageInput.addEventListener('input', generateCode);
    buttonTextInput.addEventListener('input', generateCode);

    copyBtn.addEventListener('click', () => {
        codeOutput.select();
        document.execCommand('copy');
        alert('Code copied to clipboard!');
    });

    // Initial call
    generateCode();
});
</script>
